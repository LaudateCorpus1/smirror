init:
  gcpCredentials: viant-dataflow


  gcp: ${secrets.$gcpCredentials}
  gcpProject: $gcp.ProjectID


  gsConfigBucket: ${gcpProject}_config
  gsTriggerBucket: ${gcpProject}_trigger
  gsOpsBucket: ${gcpProject}_operation
  gsDestBucket: ${gcpProject}_mirrored
  s3DestBucket: ms-e2e-storagemirror-outbound


pipeline:
  setupRoute:
    action: storage:copy
    expand: true
    source:
      URL: rule.json
    dest:
      credentials: $gcpCredentials
      URL: gs://${gsConfigBucket}/StorageMirror/dataflow/test-rule.json

  trigger:
    action: storage:copy
    source:
      URL: events.csv.gz
    dest:
      credentials: $gcpCredentials
      URL: gs://${gsTriggerBucket}/data/test/events.csv.gz
